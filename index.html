<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Bài Kiểm Tra Toán</title>
      <link rel="icon" type="image/x-icon" href="./assets/favicon/favicon.ico" />
      <link rel="stylesheet" href="./styles/framework.css" />
      <link rel="stylesheet" href="./styles/styles.css" />
   </head>
   <body>
      <!-- SVG Sprites -->
      <svg xmlns="http://www.w3.org/2000/svg" style="display: none">
         <symbol id="icon-home" viewBox="0 0 24 24">
            <g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
               <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
               <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </g>
         </symbol>
         <symbol id="icon-bar-chart" viewBox="0 0 24 24">
            <g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
               <line x1="18" y1="20" x2="18" y2="10"></line>
               <line x1="12" y1="20" x2="12" y2="4"></line>
               <line x1="6" y1="20" x2="6" y2="14"></line>
            </g>
         </symbol>
         <symbol id="icon-star" viewBox="0 0 24 24">
            <g stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
               <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
            </g>
         </symbol>
         <symbol id="icon-close-circle" viewBox="0 0 24 24">
            <g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
               <circle cx="12" cy="12" r="10"></circle>
               <line x1="15" y1="9" x2="9" y2="15"></line>
               <line x1="9" y1="9" x2="15" y2="15"></line>
            </g>
         </symbol>
         <symbol id="icon-checkmark-thick" viewBox="0 0 24 24">
            <g fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
               <polyline points="20 6 9 17 4 12" />
            </g>
         </symbol>
         <symbol id="icon-x-thick" viewBox="0 0 24 24">
            <g fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
               <line x1="18" y1="6" x2="6" y2="18" />
               <line x1="6" y1="6" x2="18" y2="18" />
            </g>
         </symbol>
      </svg>

      <header class="flex flex-col w-full justify-center items-center">
         <div class="header flex flex-row w-full justify-center items-center">
            <div class="container flex flex-row justify-between items-center py-4">
               <div class="flex items-center" style="width: 24px; height: 24px">
                  <svg class="my-icons icon-btn btnHome" width="24" height="24" aria-hidden="true">
                     <use href="#icon-home"></use>
                  </svg>
               </div>
               <div class="header-info flex flex-row gap-4 items-center">
                  <div class="user-container flex flex-row gap-2 items-center justify-start">
                     <span class="user-name">Guest</span>
                     <img class="user-avatar cursor-pointer" src="./assets/avatars/avatar-0.JPG" alt="" srcset="" />
                  </div>
                  <div class="points-container flex flex-row items-center gap-2">
                     <svg class="my-icons icon-star" width="24" height="24" aria-hidden="true">
                        <use href="#icon-star"></use>
                     </svg>
                     <span class="score-display">&nbsp;&nbsp;</span>
                  </div>
                  <svg class="my-icons icon-btn btnSummary" width="24" height="24" aria-hidden="true">
                     <use href="#icon-bar-chart"></use>
                  </svg>
               </div>
            </div>
         </div>
      </header>
      <main class="flex flex-row justify-center w-full">
         <div class="container flex flex-col h-full items-center py-4">
            <!-- View: Home -->
            <div class="view view-home flex flex-col items-center justify-evenly gap-8 h-full py-8">
               <h1 class="mb-8 text-center">Bài Kiểm Tra Toán</h1>
               <p>Chọn Mức Độ Khó</p>
               <div class="difficult-levels grid grid-rows-2 grid-cols-2 gap-6 w-full">
                  <div class="btn-difficulty btn-easy flex flex-col justify-center items-center gap-1 p-3" data-difficulty="1">
                     <h3 class="level">Cấp Độ 1</h3>
                     <p class="description">Dễ</p>
                  </div>
                  <div class="btn-difficulty btn-easy flex flex-col justify-center items-center gap-1 p-3" data-difficulty="2">
                     <h3 class="level">Cấp Độ 2</h3>
                     <p class="description">Trung bình</p>
                  </div>
                  <div class="btn-difficulty btn-easy flex flex-col justify-center items-center gap-1 p-3" data-difficulty="3">
                     <h3 class="level">Cấp Độ 3</h3>
                     <p class="description">Khó</p>
                  </div>
                  <div class="btn-difficulty btn-easy flex flex-col justify-center items-center gap-1 p-3" data-difficulty="4">
                     <h3 class="level">Cấp Độ 4</h3>
                     <p class="description">Chuyên gia</p>
                  </div>
               </div>
            </div>

            <!-- View: Game -->
            <div class="view view-game flex flex-col items-center justify-evenly gap-3 py-4 w-full nodisplay">
               <div class="level-display flex items-center justify-center w-full py-2">
                  <h2>Cấp Độ <span class="level-display-value">0</span></h2>
               </div>
               <div class="question flex flex-col items-center justify-center my-4 w-full">12 + 23 =</div>
               <div class="multiple-choice-container grid grid-rows-2 grid-cols-2 gap-4 w-full">
                  <div class="btn-choice grid" data-choice="0"></div>
                  <div class="btn-choice grid" data-choice="1"></div>
                  <div class="btn-choice grid" data-choice="2"></div>
                  <div class="btn-choice grid" data-choice="3"></div>
               </div>
               <div class="success-animation nodisplay">
                  <svg class="my-icons" width="24" height="24" aria-hidden="true">
                     <use href="#icon-checkmark-thick"></use>
                  </svg>
               </div>
               <div class="incorrect-animation nodisplay">
                  <svg class="my-icons" width="24" height="24" aria-hidden="true">
                     <use href="#icon-x-thick"></use>
                  </svg>
               </div>
            </div>
         </div>
      </main>

      <!-- Success Overlay -->
      <div class="success-overlay nodisplay"></div>

      <!-- Incorrect Overlay -->
      <div class="incorrect-overlay nodisplay"></div>

      <!-- Modal: Summary -->
      <div class="modal modal-summary flex w-full h-full nodisplay">
         <div class="modal-wrapper container grid gap-2 w-full h-full">
            <!-- Zero Row: Header and Close -->
            <div class="modal-header flex flex-row items-center justify-between w-full">
               <h2 class="modal-title text-2xl">Thống Kê</h2>
               <div class="modal-close flex items-center justify-center text-center icon cursor-pointer" data-close="summary">
                  <svg class="my-icons icon-btn" width="24" height="24" aria-hidden="true">
                     <use href="#icon-close-circle"></use>
                  </svg>
               </div>
            </div>
            <!-- First Row: Main Stats -->
            <div class="stats-main flex flex-row items-center justify-between w-full gap-4 px-10">
               <div class="stats-main-stat flex flex-col items-center justify-center gap-1">
                  <span class="stats-main-stat-value total-questions" data-stat="attempts">0</span>
                  <span class="stats-main-stat-label text-center text-sm">Total Attempts</span>
               </div>
               <div class="stats-main-stat flex flex-col items-center justify-center gap-1">
                  <span class="stats-main-stat-value correct-answers" data-stat="correct">0</span>
                  <span class="stats-main-stat-label text-center text-sm">Correct Answers</span>
               </div>
               <div class="stats-main-stat flex flex-col items-center justify-center gap-1">
                  <span class="stats-main-stat-value incorrect-answers" data-stat="accuracy">0</span>
                  <span class="stats-main-stat-label text-center text-sm">Accuracy</span>
               </div>
               <div class="stats-main-stat flex flex-col items-center justify-center gap-1">
                  <span class="stats-main-stat-value longest-streak" data-stat="longest">0</span>
                  <span class="stats-main-stat-label text-center text-sm">Longest Streak</span>
               </div>
            </div>
            <!-- Second Row: Badges (future dev) -->
            <div class="stats-badges flex flex-row items-center w-full gap-3 nodisplay"></div>
            <!-- Third Row: Charts -->
            <div class="stats-charts flex flex-col flex-wrap items-center w-full gap-3">
               <div class="chart-selector flex flex-row text-sm">
                  <div class="chart-btn btn-by-level flex items-center justify-center text-sm cursor-pointer active" data-chart="levels">Level</div>
                  <div class="chart-btn btn-by-operation flex items-center justify-center cursor-pointer text-sm" data-chart="operations">Operation</div>
               </div>
               <h3>Correct Answers</h3>
               <div class="chart-container flex flex-col items-center justify-center gap-2 w-full"></div>
            </div>
         </div>
      </div>

      <!-- Modal: User Avatar Selection -->
      <div class="modal modal-user flex flex-col items-center gap-4 p-4 w-full h-full nodisplay">
         <div class="modal-wrapper container flex flex-col items-center gap-2 w-full h-full">
            <!-- Zero Row: Header and Close -->
            <div class="modal-header flex flex-row justify-between w-full mb-4">
               <h2 class="modal-title text-2xl">Chọn Ảnh Đại Diện</h2>
               <!-- <div class="modal-close flex items-center justify-center text-center icon cursor-pointer" data-close="user">
                  <svg class="my-icons icon-btn" width="24" height="24" aria-hidden="true">
                     <use href="#icon-close-circle"></use>
                  </svg>
               </div> -->
            </div>
            <!-- First Row: User Selection -->
            <div class="modal-user-select flex flex-col items-center justify-start w-full">
               <div class="user-select-container flex flex-row justify-center gap-4 p-4 w-full">
                  <!-- <div class="user-option flex flex-col items-center gap-1 cursor-pointer" data-userId="0">
                     <img class="user-avatar-option" src="./assets/avatars/avatar-0.JPG" alt="Avatar 0" />
                     <span class="user-name-option">Guest</span>
                     <button class="btn user-edit-option">Edit</button>
                  </div> -->
                  <div class="user-add flex flex-col items-center gap-1" data-userId="-1">
                     <img class="user-add-avatar cursor-pointer" src="./assets/avatars/avatar-new-user.png" alt="Avatar 0" />
                     <!--  <span class="user-add-name"></span>
                     <div class="user-add-edit-button-dummy always-hide" hidden></div> -->
                  </div>
               </div>
            </div>
         </div>
         <!-- SubModal: Edit / Add User -->
         <div class="modal-user-edit flex flex-col items-center justify-start nodisplay gap-2 p-6">
            <h2 class="modal-title text-2xl">Chỉnh Sửa Người Dùng</h2>
            <div class="avatar-list grid grid-cols-2 xsm:grid-cols-4 justify-center gap-4 p-4 w-full mb-6"></div>
            <h2 class="modal-label-name text-2xl mb-3">Tên Người Dùng</h2>
            <input type="text" class="user-name-edit mb-6" />
            <div class="flex flex-row justify-content items-center gap-6 mb-6">
               <button class="btn user-edit-save">Save</button>
               <button class="btn user-edit-cancel">Cancel</button>
            </div>
         </div>
      </div>

      <script src="./scripts/script.js" type="module"></script>
   </body>
</html>
